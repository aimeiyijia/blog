---
title: 前端代码审查规范
comments: false
abbrlink: 44602c38
date: 2023-04-19 20:02:44
tags:
categories:
keywords:
description:
top_img:
cover:
---

## 代码审查原则

> 结合《[Software Quality Assurance: Documentation and Reviews](https://archive.org/details/softwarequalitya4909wall)》，从 B1 页开始

### 完整性检查(Completeness)

- 代码是否完全实现了设计文档中提出的功能需求
- 代码是否已按照设计文档进行了集成和 测试
- 代码是否包含正确的初始化数据
- 代码中是否存在任何没有定义或没有引用到的变量、常数或数据类型

### 一致性检查(Consistency)

- 代码的逻辑是否符合设计文档
- 代码中使用的格式、符号、结构等风格是否保持一致

### 正确性检查(Correctness)

- 代码是否符合制定的标准
- 所有的变量都被正确定义和使用
- 所有的注释都是准确的
- 所有的程序调用都使用了正确的参数个数

### 可修改性检查(Modifiability)

- 代码涉及到的常量是否易于修改(如使用配置、定义为类常量、使用专门的常量类等)
- 代码中是否包含了交叉说明或数据字典，以描述程序是如何对变量和常量进行访问的
- 代码是否只有一个出口和一个入口(严重的异常处理除外)

### 可预测性检查(Predictability)

- 代码所用的开发语言是否具有定义良好的语法和语义
- 是否代码避免了依赖于开发语言缺省提供的功能
- 代码是否无意中陷入了死循环
- 代码是否避免了无穷递归

### 健壮性检查(Robustness)

- 代码是否采取措施避免运行时错误(如对 null 与 undefined 的判断、数组边界溢出、被零除、值越界、堆栈溢出等)

### 结构性检查(Structuredness)

- 程序的每个功能是否都作为一个可辩识的代码块存在
- 循环是否只有一个入口

### 可追溯性检查(Traceability)

- 代码是否对每个程序进行了唯一标识
- 是否有一个交叉引用的框架可以用来在代码和开发文档之间相互对应
- 代码是否包括一个修订历史记录，记录中对代码的修改和原因都有记录
- 是否所有的安全功能都有标识

### 可理解性检查(Understandability)

- 注释是否足够清晰的描述每个子程序
- 是否使用到不明确或不必要的复杂代码，它们是否被清楚的注释
- 使用一些统一的格式化技巧(如缩进、空白等）用来增强代码的清晰度
- 是否在定义命名规则时采用了便于记忆，反映类型等方法
- 每个变量都定义了合法的取值范围
- 代码中的算法是否符合开发文档中描述的数学模型

### 可验证性检查(Verifiability)

- 代码中的实现技术是否便于测试，如不方便请给出测试方案

## 审查流程

### 审查前

#### 明确审查标准

1. {% post_link 规范/Git分支创建与提交规范 'Git分支创建与提交规范' %}
2. {% post_link 规范/Vue类项目规范 'Vue类项目规范' %}
3. 所审查代码涉及到的需求、设计文档，如是 UI 组件之类的非业务代码审查请参考第二项
4. 测试提出的缺陷问题

前端项目内内置了代码风格、代码格式、编码规范的校验工具，基本上编辑器**标红**的位置就能发现问题

#### 审查要点

- 设计

   业务实现的合理性、完成度

- 功能实现

   业务实现的完成度，未完成原因

- 复杂度

   实现方式是否过于复杂

- git提交信息

   提交信息是否明确、精准概述修改信息

- 命名

- 注释

- 风格

- 文档

- 上下文、局部与全局

- 测试

### 审查实施

#### 审查方式

自我审查

开发互审

#### 确定审查时间

#### 确定审查参与人员

简单需求审查： 审查人员与被审查人员

复杂需求、设计审查： 建议相关前后端都参加

#### 确定代码审查的范围

审查会议不宜过长，过长可能会影响正常开发任务

#### 及时记录审查问题

应安排非审查人员进行审查问题的记录，并填写进标准文档

#### 审查氛围

代码审查不是批判，审查人员发现问题是很正常的事情，就算是低级错误也要心平气和，确保审查会议保持愉快氛围

### 审查后

#### 确定审查问题

#### 确定问题修改问题

#### 问题修改结果确认人

## 代码审查要点

### 
